{"_objectType":"ITSScreenTemplate","ID":"287b3019-2b18-4b63-dc97-db3a4ddb54ae","Description":"List with choices - Buttons","Explanation":"<p class=\"p_compressed\">A list of buttons that the user can click as a more direct alternative to a radio button list</p>","Remarks":"","TemplateVariables":[{"_objectType":"ITSScreenTemplateVariable","ID":"1b89257e-98c7-474b-c39b-a6d3bb4e3d3e","variableName":"ButtonAction","description":"The action to perform when the user presses a button","defaultValue":"None|None,Store|Store the currently entered values,EndTest|End the test,EndTestTimeOut|End the test because of a time out,EndSession|End the session,NextScreen|Goto the next screen in the test,NextUnansweredScreen|Goto the next unanswered screen in the test,PreviousScreen|Goto the previous screen in the test,GotoScreen|Goto a specific screen in the test,Logout|Logout after saving the currently entered values","variableType":"L","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"8e7ee876-5b6c-4d5d-745f-8dfa7d0c3a5a","variableName":"ButtonText","description":"","defaultValue":"","variableType":"T","translatable":true},{"_objectType":"ITSScreenTemplateVariable","ID":"5dae96ff-1e45-4961-abe8-a04291de3c26","variableName":"ButtonSize","description":"The size of the buttons","defaultValue":"btn-sm|Small button,btn|Normal button,btn-lg|Large button","variableType":"L","translatable":false},{"_objectType":"ITSScreenTemplateVariable","ID":"a945ed11-46a3-4cf3-a046-7510f10f6997","variableName":"AutoShuffle","description":"Automatically shuffle the answer alternative on each view","defaultValue":"F","variableType":"B","translatable":false}],"HTMLContent":"<!--%%AutoShuffle%%-->\n<!--REPEATBLOCK-->\n<button tabindex=\"0\" style=\"pointer-events: auto;margin-bottom:0px;white-space: normal;  \" id=\"%%ID%%_%%RepeatBlockNr%%\" class=\"btn btn-primary %%ButtonSize%% btn-block active\" role=\"button\" onclick=\"ITSInstance.hook.reset_all_ListWithChoicesButtons  ('%%ID%%', '%%RepeatBlockNr%%','%%NrOfRepeatBlocks%%'); processEvent('%%ButtonAction%%',this);\"><i class=\"far fa-check-square\" id=\"%%ID%%_%%RepeatBlockNr%%_icon\" style=\"float:left; visibility:hidden;\"></i>%%ButtonText%%</button>\n<!--REPEATBLOCK-->\n","HTMLContentPnP":"","HTMLContentSummary":"<!--REPEATBLOCK-->\n<a style=\"pointer-events: auto;margin-bottom:0px;white-space: normal;  \" id=\"%%ID%%_%%RepeatBlockNr%%\" class=\"btn btn-primary %%ButtonSize%% btn-block active\" role=\"button\" aria-pressed=\"true\" ><i class=\"far fa-check-square\" id=\"%%ID%%_%%RepeatBlockNr%%_icon\" style=\"float:left; visibility:hidden;\"></i>%%ButtonText%% (%%instanceObj.varvalues.count%%RepeatBlockNr%%%%)</a>\n<!--REPEATBLOCK-->\n","get_value_snippet":"for (var i=1; i <= num_blocks; i++) {\n if ( $('#'+id+ \"_\"+ i ).hasClass('btn-success') ) {\n  return(i);\n }\n}\nreturn -1;    ","set_value_snippet":"$('#'+id+\"_\"+varvalue).addClass('btn-success');\n$('#'+id+\"_\"+varvalue + \"_icon\").attr(\"style\", \"visibility: block; float:left;\");    ","TemplateType":0,"init_value_snippet":"if (!ITSInstance.hook.reset_all_ListWithChoicesButtons) {\nITSInstance.hook.reset_all_ListWithChoicesButtons  = function (id, newIndex,  num_blocks) { \n for (var i=1; i <= num_blocks; i++) { \n  $('#'+id+'_'+i).removeClass('btn-success');  \n  $('#'+id+'_'+i).removeClass('btn-info');  \n  $('#'+id+'_'+i).removeClass('btn-primary');  \n  $('#'+id+\"_\"+i+ \"_icon\").attr(\"style\", \"visibility: hidden; float:left;\");\n  if (i != newIndex) { $('#'+id+'_'+i).addClass('btn-primary');   };\n } \n $('#'+id+'_'+newIndex).addClass('btn-success'); \n};\n}    ","generator_snippet":"\nfunction chooseAlternative(answersToExclude, NrOfAlternatives) {\n\tvar result = Number(Math.round(Math.random()*NrOfAlternatives));\n\tif (result == 0) result = 1;\n\tif (!answersToExclude.includes(result)) {return Number(result); } else {return chooseAlternative(answersToExclude, NrOfAlternatives);}\n}\n\nif ((template_values.AutoShuffle == \"T\") && (template_values.RepeatBlockCount > 1)) {\n  // amount to shuffle\n  var itemOrder = [];\n  var newItemOrder = 0;\n  for (var i=1; i <= template_values.RepeatBlockCount; i++) {\n    newItemOrder = chooseAlternative(itemOrder, template_values.RepeatBlockCount);\n\titemOrder.push(newItemOrder);\n  }\n  // now generate the template_values\n  var result = \"\";\n  var elementToGenerate = 0;\n  var tempResult = `\n    <a style=\"pointer-events: auto;margin-bottom:0px;white-space: normal;\" id=\"%%ID%%_%%RepeatBlockNr%%\" class=\"btn btn-primary %%ButtonSize%% btn-block active\" role=\"button\" \n\t   aria-pressed=\"true\" onclick=\"ITSInstance.hook.reset_all_ListWithChoicesButtons  ('%%ID%%', '%%RepeatBlockNr%%','%%NrOfRepeatBlocks%%'); processEvent('%%ButtonAction%%',this);\">\n\t<i class=\"far fa-check-square\" id=\"%%ID%%_%%RepeatBlockNr%%_icon\" style=\"float:left; visibility:hidden;\"></i>%%ButtonText%%</a>\n   `;\n  var newTempResult;\n  for (var i=0; i < itemOrder.length; i++) {\n\telementToGenerate = itemOrder[i];\n    newTempResult = tempResult; \n\tnewTempResult = newTempResult.replaceAll(\"%%ID%%\", id);\n\tnewTempResult = newTempResult.replaceAll(\"%%RepeatBlockNr%%\",  itemOrder[i]);\n\tnewTempResult = newTempResult.replaceAll(\"%%NrOfRepeatBlocks%%\", template_values.RepeatBlockCount );\n\n\tif (itemOrder[i] > 1) {\n\t\tnewTempResult = newTempResult.replaceAll(\"%%ButtonSize%%\", eval('template_values.ButtonSize_' + itemOrder[i]) );\n\t\tnewTempResult = newTempResult.replaceAll(\"%%ButtonAction%%\", eval('template_values.ButtonAction_' + itemOrder[i]) );\n\t\tnewTempResult = newTempResult.replaceAll(\"%%ButtonText%%\",  eval('template_values.ButtonText_' + itemOrder[i]));\n\t} else {\n\t\tnewTempResult = newTempResult.replaceAll(\"%%ButtonSize%%\", template_values.ButtonSize );\n\t\tnewTempResult = newTempResult.replaceAll(\"%%ButtonAction%%\", template_values.ButtonAction );\n\t\tnewTempResult = newTempResult.replaceAll(\"%%ButtonText%%\", template_values.ButtonText );\n\t}\n\tresult = result + newTempResult; \n  }\n\n  // appended text only for editor\n  return result + \"<!--%%AutoShuffle%%--><!--REPEATBLOCK--><!--%%ButtonSize%% %%ButtonAction%% %%ButtonText%%--><!--REPEATBLOCK-->\"; \n}    ","generator_pnp_snippet":"    ","generator_summary_snippet":"//console.log('Buttons 1' , current_values_array);\nfor (var i=1; i <= template_values.RepeatBlockCount; i++) {\n    template_values[\"count\" + i] = 0;\n    //console.log('Buttons 1 - ' + i );\n}\nif (typeof current_values_array.length != undefined) {\n for (var i=0; i < current_values_array.length; i++) {\n     //console.log(current_values_array[i].Value );\n     if ( (typeof current_values_array[i].Value != \"undefined\") && \n          (current_values_array[i].Value == Number(current_values_array[i].Value)) ) {\n        template_values[\"count\" + current_values_array[i].Value] ++;\n     }\n }\n //console.log(template_values);\n}\n   ","get_value_as_html_snippet":"    ","validation_snippet":"    ","isanswered_snippet":"//console.log(runtime_values);\ntry{\nreturn ( (parseInt(runtime_values.Value) != -1) && (runtime_values.Value != \"\") ) ;\n} catch(err) {};\n\nreturn false;    ","custom_template_actions_snippet":"    ","PluginData":{"LegacyTemplate":true,"_objectType":"ITSObject","persistentProperties":"*ALL*"}}